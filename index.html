<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Watchlist</title>
  <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<style>
  body {
    margin: 0;
    padding: 0;
    background-color: gray;
  }
  header {
    margin: 0;
    padding: 0;
    background-color: black;
    color: white;
    width: 100%;
    text-align: center;
    height: 50px;
    font-size: 17px;
    border-bottom: 1px solid white;
  }
  h2 {
    margin: 0;
    padding: 7px;
  }
  form {
    justify-content: center;
    align-items: center;
    display: flex;
    margin-top: 5px;
  }
  h3 {
    text-align: center;
    margin: 0;
    margin-top: 10px;
  }
  .btn {
    justify-content: center;
    align-items: center;
    display: flex;
    margin-top: 4px;
  }
  .bnt {
    height: 30px;
    background-color: black;
    border: none;
    border-radius: 3px;
    color: white;
  }
  table, td, th{
    border: 1px solid black;
  }
  table {
    text-align: center;
    margin: 0;
    padding: 0;
    margin-top: 10px;
    margin-left: auto;
    margin-right: auto;
    /*border-collapse: collapse;*/
    border: none;
    width: 350px;
  }
/*tr:nth-child(even){background-color: black}*/
  th {
    width: 200px;
    border: 1px solid white;
    background-color: black;
    color: white;
    padding-top: 5px;
    padding-bottom: 5px;
    word-wrap: break-word;
  }
  td {
    padding: 10px;
    background-color: lightgray;
    word-wrap: break-word;
  }
  .go {
    overflow-y: hidden;
    margin-bottom: 20px;
  }
</style>
<body>
  
<header>
 <h2>Watchlist</h2>
</header>

<h3>Name of Movie</h3>
<form>
  <input type="text" id="movie">
</form>
<div class="btn">
  <button type="submit" onclick="submitMovie()" class="bnt" id="mbnt">Submit</button>
</div>


<h3>Name of series</h3>
<form>
  <input type="text" id="series">
</form>
<div class="btn">
  <button type="submit" onclick="submitSeries()" class="bnt" id="sbnt">Submit</button>
</div>

<h3>Name of Anime</h3>
<form>
  <input type="text" id="anime">
</form>
<div class="btn">
  <button type="submit" onclick="submitAnime()" class="bnt" id="abnt">Submit</button>
</div>

<h3>Name of Manga</h3>
<form>
  <input type="text" id="manga">
</form>
<div class="btn">
  <button type="submit" onclick="submitManga()" class="bnt" id="mabnt">Submit</button>
</div>

<div class="go">
<table id="moviestable">
  <tbody id="mbody">
  <tr>
    <th>Movies</th>
    <th id="mnumber"></th>
  </tr>
  <tr id="moviesrow">
  </tr>
  </tody>
</table>
</div>

<div class="go">
<table id="seriestable">
  <tr>
    <th>Series</th>
    <th id="snumber"></th>
  </tr>
  <tr id="seriesrow">
  </tr>
</table>
</div>

<div class="go">
<table id="animetable">
  <tr>
    <th>Anime</th>
    <th id="anumber"></th>
  </tr>
  <tr id="animerow">
  </tr>
</table>
</div>

<div class="go">
  <table id="mangatable">
    <tr>
      <th>Manga</th>
      <th id="manumber"></th>
    </tr>
    <tr id="mangarow">
    </tr>
  </table>
</div>
<script>
const minput = document.getElementById("movie");
const sinput = document.getElementById("series");
const ainput = document.getElementById("anime");
const mainput = document.getElementById("manga");




// MOVIES
function submitMovie() {
const inputmovies = document.getElementById("movie")
const le = document.getElementById("moviestable")
const ho = document.getElementById("moviesrow")

const er = localStorage.getItem("movies") || []

if (inputmovies.value === '') {
    Swal.fire({
      icon: 'error',
      title: 'Oops...',
      text: 'Please enter a movie name',
    });
} else if (er.includes(inputmovies.value.trim())) {
    Swal.fire({
      icon: 'error',
      title: 'Oops...',
      text: 'Movie is already added in watchlist',
    });
} else {
  const mnu = document.getElementById("mnumber")
      var el = document.getElementById("moviesrow");
    const delbtn = document.createElement("button");
    delbtn.innerHTML = "Delete"
    delbtn.style.backgroundColor = "black"
    delbtn.style.color = "white"
    delbtn.style.border = "none"
    delbtn.style.borderRadius = "3px"
    delbtn.style.height = "30px"
    
    
    const row = le.insertRow(2)
    var cell1 = row.insertCell(0);
    var cell2 = row.insertCell(1)
    cell1.innerHTML = inputmovies.value;
    cell2.id = "dbt"
    cell1.id = "neid"
    minput.value = ''
    
    const mar = localStorage.getItem("movies") || []
    
    //var button = delbtn.cloneNode(true);
    cell2.appendChild(delbtn)
    
    var idne = document.getElementById("neid").innerHTML
    localStorage.setItem("mconf", 1)
  saveMovieData()
}
}


// SERIES
function submitSeries() {
const inputseries = document.getElementById("series")
const le = document.getElementById("seriestable")
    
if (inputseries.value === '') {
    Swal.fire({
      icon: 'error',
      title: 'Oops...',
      text: 'Please enter a series name',
    });
} else {
    const delbtn = document.createElement("button");
    delbtn.innerHTML = "Delete"
    delbtn.style.backgroundColor = "black"
    delbtn.style.color = "white"
    delbtn.style.border = "none"
    delbtn.style.borderRadius = "3px"
    delbtn.style.height = "30px"
    
  const row = le.insertRow(2)
  var cell1 = row.insertCell(0);
  var cell2 = row.insertCell(1)
  cell1.innerHTML = inputseries.value;
  cell2.id = "sdbt"
  cell1.id = "sneid"
  sinput.value = ''

  //var button = delbtn.cloneNode(true);
  cell2.appendChild(delbtn)
  localStorage.setItem("sconf", 1)
  saveSeriesData()
}
}


// ANIME
function submitAnime() {
  const inputanime = document.getElementById("anime")
  const le = document.getElementById("animetable")

if (inputanime.value === '') {
  Swal.fire({
    icon: 'error',
    title: 'Oops...',
    text: 'Please enter an anime name',
  });
} else {
    const delbtn = document.createElement("button");
    delbtn.innerHTML = "Delete"
    delbtn.style.backgroundColor = "black"
    delbtn.style.color = "white"
    delbtn.style.border = "none"
    delbtn.style.borderRadius = "3px"
    delbtn.style.height = "30px"
    
  const row = le.insertRow(2)
  var cell1 = row.insertCell(0);
  var cell2 = row.insertCell(1)
  cell1.innerHTML = inputanime.value;
  cell2.id = "adbt"
  cell1.id = "aneid"
  ainput.value = ''
  
  
 // var button = delbtn.cloneNode(true);
  cell2.appendChild(delbtn)
  localStorage.setItem("aconf", 1)
  saveAnimeData()
}
}

function submitManga() {
  const inputmanga = document.getElementById("manga")
  const le = document.getElementById("mangatable")

  if (inputmanga.value === '') {
    Swal.fire({
      icon: 'error',
      title: 'Oops...',
      text: 'Please enter a manga name',
    });
  } else {
    const delbtn = document.createElement("button");
    delbtn.innerHTML = "Delete"
    delbtn.style.backgroundColor = "black"
    delbtn.style.color = "white"
    delbtn.style.border = "none"
    delbtn.style.borderRadius = "3px"
    delbtn.style.height = "30px"

    const row = le.insertRow(2)
    var cell1 = row.insertCell(0);
    var cell2 = row.insertCell(1)
    cell1.innerHTML = inputmanga.value;
    cell2.id = "madbt"
    cell1.id = "maneid"
    mainput.value = ''

    //var button = delbtn.cloneNode(true);
    cell2.appendChild(delbtn)
    localStorage.setItem("maconf", 1)
    saveMangaData()
  }
}

const le = document.getElementById("moviestable")
const sle = document.getElementById("seriestable")
const ale = document.getElementById("animetable")
const male = document.getElementById("mangatable")


function saveMovieData() {
localStorage.setItem("movies", le.innerHTML)
}
function showMovieData() {
  le.innerHTML = localStorage.getItem("movies")
}

function saveSeriesData() {
localStorage.setItem("series", sle.innerHTML)
}
function showSeriesData() {
  sle.innerHTML = localStorage.getItem("series")
}

function saveAnimeData() {
localStorage.setItem("anime", ale.innerHTML)
}
function showAnimeData() {
  ale.innerHTML = localStorage.getItem("anime")
}

function saveMangaData() {
localStorage.setItem("manga", male.innerHTML)
}
function showMangaData() {
  male.innerHTML = localStorage.getItem("manga")
}

le.addEventListener("click", function(m) {
  if(m.target.tagName === "BUTTON") {
    const nlo = document.getElementById("neid")
    const btn = document.getElementById("dbt")
    nlo.remove()
    btn.remove()
    saveMovieData()
  }
}, false);

sle.addEventListener("click", function(s) {
  if(s.target.tagName === "BUTTON") {
    const nlo = document.getElementById("sneid")
    const btn = document.getElementById("sdbt")
    nlo.remove()
    btn.remove()
    saveSeriesData()
  }
}, false);

ale.addEventListener("click", function(a) {
  if(a.target.tagName === "BUTTON") {
    const nlo = document.getElementById("aneid")
    const btn = document.getElementById("adbt")
    nlo.remove()
    btn.remove()
    saveAnimeData()
  }
}, false);

male.addEventListener("click", function(c) {
  if (c.target.tagName === "BUTTON") {
    const nlo = document.getElementById("maneid")
    const btn = document.getElementById("madbt")
    nlo.remove()
    btn.remove()
    saveMangaData()
  }
}, false);

/*
localStorage.removeItem("movies")
localStorage.removeItem("series")
localStorage.removeItem("anime")
localStorage.removeItem("manga")
localStorage.removeItem("mconf")
localStorage.removeItem("sconf")
localStorage.removeItem("aconf")
localStorage.removeItem("mconf")
//*/


if(localStorage.getItem("mconf") === null){
} else {
  showMovieData()
}
if(localStorage.getItem("sconf") === null){
} else {
  showSeriesData()
}
if(localStorage.getItem("aconf") === null){
} else {
  showAnimeData()
}
if(localStorage.getItem("maconf") === null){
} else {
  showMangaData()
}
</script>
</body>
</html>
